(this["webpackJsonpent-vote-app"]=this["webpackJsonpent-vote-app"]||[]).push([[6],{38:function(t,e,a){},42:function(t,e,a){"use strict";var s=a(9),n=a(10),i=a(12),r=a(11),c=a(0),o=a.n(c),u=(a(38),a(1)),l=function(t){Object(i.a)(a,t);var e=Object(r.a)(a);function a(){return Object(s.a)(this,a),e.apply(this,arguments)}return Object(n.a)(a,[{key:"render",value:function(){return Object(u.jsxs)("div",{className:"modal-wrapper",children:[Object(u.jsx)("div",{className:"modal-header",children:Object(u.jsxs)("h2",{children:[" ",this.props.title]})}),Object(u.jsx)("div",{className:"modal-body",children:this.props.message}),Object(u.jsx)("div",{className:"modal-footer",children:Object(u.jsx)("button",{onClick:this.props.onClose,children:"\ub124"})})]})}}]),a}(o.a.Component);e.a=l},43:function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));var s=a(54);a(63);s.a.initializeApp({apiKey:"AIzaSyDtWWsADaITFWHm_r80wWsrVvSr_sDfrAo",authDomain:"great-award.firebaseapp.com",databaseURL:"https://great-award-default-rtdb.firebaseio.com",projectId:"great-award",storageBucket:"great-award.appspot.com",messagingSenderId:"947294552913",appId:"1:947294552913:web:f7cdaa4730cb4c4c5ac970"});var n=s.a.firestore()},58:function(t,e,a){},87:function(t,e,a){"use strict";a.r(e);var s=a(48),n=a.n(s),i=a(49),r=a(9),c=a(10),o=a(12),u=a(11),l=a(0),h=a.n(l),d=(a(58),a(1)),p=function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){return Object(r.a)(this,a),e.apply(this,arguments)}return Object(c.a)(a,[{key:"isMyChat",value:function(){return!1}},{key:"render",value:function(){return Object(d.jsxs)("div",{className:"chat",children:[Object(d.jsx)("div",{className:"user-photo",children:Object(d.jsx)("div",{className:"user-name",children:this.props.name})}),Object(d.jsx)("p",{className:"chat-msg "+(this.props.isMine?"me ":"friend "),children:this.props.message})]})}}]),a}(h.a.Component),m=["\uac81\uba39\uc740","\uc2e0\ub09c","\ubb34\uc11c\uc6b4","\ud654\ub09c","\ub611\ub611\ud55c","\uadc0\uc5ec\uc6b4","\ud589\ubcf5\ud55c","\ud63c\ub780\ud55c","\uc808\uac70\uc6b4"],f=["\uc544\uae30\ub3fc\uc9c0","\uae40\uc885\ubb38","\uc2e0\ub300\uc7a5","\uae40\ud638\ub4e4","\uc720\ub290\ub2d8","\ud53c\uc624","\ucc9c\ud574\uba85","\uc7a5\uae30\ub450","\uc655\ud76c\uc5f4","\uc870\ub9c8\ud14c\uc624","\uc624\uc9c0\uad6c","\uc7a5\uadf8\ub798","\uc870\uadfc\ub9cc","\uc559\ud5ec\ud5cc\ud2b8","\uae40\ud0dc\uc784","\uce60\ubcf5","\uc774\ubcd1\uc6d0","\uc774\ubcd1\uc2e4","\ucd5c\ud76c\ub9dd","\uc774\uc5f0\uad6c","\uc0ac\uc790\ud68c"],b=function(t){return Math.floor(Math.random()*t)},j=a(43),v=a(57),O=a(50),g=a.n(O),x=a(42),y={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",width:"320px",height:"180px",padding:"0px"}},k=a(80),N=function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(t){var s;return Object(r.a)(this,a),(s=e.call(this,t)).state={chatId:"",displayName:"",chatValue:"",chatlogs:[],uid:"",modalIsOpen:!1},s}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var t=Object(i.a)(n.a.mark((function t(){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.firestore=j.a,this.messageRef=this.firestore.collection("message"),this.query=this.messageRef.orderBy("createdAt").limit(200),t.next=5,this.initializeUid();case 5:return t.next=7,this.initializeDisplayName();case 7:return t.next=9,this.initializeChatServer();case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"initializeChatServer",value:function(){var t=this;return new Promise((function(e,a){t.query.onSnapshot((function(e){var a=[];e.forEach((function(t){var e={},s=t.data();Object.keys(s).forEach((function(t){e[t]=k(s[t])})),a.push(e)})),t.setState({chatlogs:a})})),e()}))}},{key:"initializeUid",value:function(){var t=this;return new Promise((function(e,a){t.setState({uid:Object(v.a)()},(function(){e()}))}))}},{key:"initializeDisplayName",value:function(){var t=this;return new Promise((function(e,a){var s=m[b(m.length)],n=f[b(f.length)];t.setState({displayName:s+n},(function(){e(t.state.displayName)}))}))}},{key:"setChatValue",value:function(t){var e=this.state.chatValue.length,a=t.target.value.length;if(!(this.state.chatValue.length>100&&e<=a)){var s=k(t.target.value);this.setState({chatValue:s})}}},{key:"onSubmit",value:function(){var t=Object(i.a)(n.a.mark((function t(){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.state.chatValue.length<3)){t.next=3;break}return this.setState({modalIsOpen:!0}),t.abrupt("return");case 3:return t.next=5,this.messageRef.add({text:this.state.chatValue,name:this.state.displayName,uid:this.state.uid,createdAt:(new Date).toISOString()});case 5:this.setState({chatValue:""});case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"openModal",value:function(t){t.preventDefault(),this.setState({modalIsOpen:!0})}},{key:"closeModal",value:function(){this.setState({modalIsOpen:!1})}},{key:"render",value:function(){var t=this;return Object(d.jsxs)("div",{className:"chat-background",children:[Object(d.jsxs)("div",{className:"chat-box",children:[Object(d.jsx)("div",{className:"chat-logs",children:this.state.chatlogs.map((function(e,a){var s=e.name===t.state.displayName;return Object(d.jsx)(p,{isMine:s,name:e.name,message:e.text},a)}))}),Object(d.jsxs)("div",{className:"chat-form",children:[Object(d.jsx)("input",{className:"chat-text",type:"text",value:this.state.chatValue,onChange:this.setChatValue.bind(this)}),Object(d.jsx)("button",{className:"chat-btn--snd",onClick:this.onSubmit.bind(this),children:Object(d.jsx)("i",{className:"fas fa-keyboard"})})]})]}),Object(d.jsx)(g.a,{isOpen:this.state.modalIsOpen,onRequestClose:this.closeModal.bind(this),style:y,contentLabel:"Warn Modal",ariaHideApp:!1,children:Object(d.jsx)(x.a,{onClose:this.closeModal.bind(this),title:"\ub300\ud0c8\ucd9c \uc2e4\uc2dc\uac04 \ucc44\ud305\ubc29",message:"3\uae00\uc790 \uc774\uc0c1 \uc791\uc131\ud574\uc8fc\uc138\uc694."})})]})}}]),a}(h.a.Component);e.default=N}}]);
//# sourceMappingURL=6.f398ffba.chunk.js.map